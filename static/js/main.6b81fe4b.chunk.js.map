{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGalery.module.css","Components/Loader/Loader.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/Modal/Modal.js","servises/fetchImgAPI.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","tags","onModal","largeImageURL","ImageGalleryItem_image","src","alt","onClick","defaultProps","images","ImageGallery","onImgClick","map","id","webformatURL","CustomLoader","Loader","color","height","width","timeout","Button","text","onLoadClick","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","closeModal","handleCloseModal","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","res","data","hits","App","showModal","loading","error","modalImage","onChangeQuery","trim","fetchImgAPI","options","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","openModal","prevProps","toast","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b81fe4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3zKDX\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3cx9j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Mzbt\",\"Modal\":\"Modal_Modal__36zVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalery_ImageGallery__3nE0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__5PKIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31lWI\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = { query: '' };\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const { query } = this.state;\r\n\r\n        this.props.onSubmit(query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        const { query } = this.state;\r\n\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchForm_button}>\r\n                        <span className={s.SearchForm_button_label}>\r\n                            Search\r\n                        </span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchForm_input}\r\n                        value={query}\r\n                        onChange={this.handleChange}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, tags, onModal, largeImageURL }) => {\r\n    return (\r\n        <li className={s.ImageGalleryItem}>\r\n            <img\r\n                className={s.ImageGalleryItem_image}\r\n                src={image}\r\n                alt={tags}\r\n                onClick={() => onModal(largeImageURL)}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n    images: 'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png',\r\n    tags: '',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.string,\r\n    tags: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, onImgClick }) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map(({ id, largeImageURL, webformatURL, tags }) => (\r\n                <ImageGalleryItem\r\n                    key={id}\r\n                    image={webformatURL}\r\n                    tags={tags}\r\n                    largeImageURL={largeImageURL}\r\n                    onModal={onImgClick}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst CustomLoader = () => (\r\n    <div className={s.Loader}>\r\n        <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#3f51b5\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default CustomLoader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ text, onLoadClick }) => {\r\n    return (\r\n        <button className={s.Button} type=\"button\" onClick={onLoadClick}>\r\n            {text}\r\n        </button>\r\n    );\r\n};\r\n\r\nButton.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n    onLoadClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    static propTypes = {\r\n        closeModal: PropTypes.func.isRequired,\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n            this.props.closeModal();\r\n        }\r\n    };\r\n\r\n    handleCloseModal = event => {\r\n        const { currentTarget, target } = event;\r\n        if (currentTarget === target) {\r\n            this.props.closeModal();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={this.handleCloseModal}>\r\n                <div className={s.Modal}>{children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\nconst apiKey = '21973303-2099b25a108053c1f3c237a34';\r\n\r\nconst fetchImgAPI = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\r\n        )\r\n        .then(res => res.data.hits);\r\n};\r\n\r\nexport default { fetchImgAPI };\r\n","import React, { Component } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './App.css';\r\nimport Searchbar from './Components/Searchbar/Searchbar';\r\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\r\nimport CustomLoader from './Components/Loader/Loader';\r\nimport Button from './Components/Button/Button';\r\nimport Modal from './Components/Modal/Modal';\r\nimport fetchImgAPI from './servises/fetchImgAPI';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        images: [],\r\n        currentPage: 1,\r\n        searchQuery: '',\r\n        showModal: false,\r\n        loading: false,\r\n        error: null,\r\n        modalImage: '',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.searchQuery !== this.state.searchQuery) {\r\n            this.fetchImgAPI();\r\n        }\r\n    }\r\n\r\n    onChangeQuery = query => {\r\n        this.setState({\r\n            searchQuery: query.trim(),\r\n            currentPage: 1,\r\n            images: [],\r\n            error: null,\r\n        });\r\n    };\r\n\r\n    fetchImgAPI = () => {\r\n        const { currentPage, searchQuery } = this.state;\r\n        const options = { searchQuery, currentPage };\r\n\r\n        if (!searchQuery) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ loading: true });\r\n\r\n        fetchImgAPI\r\n            .fetchImgAPI(options)\r\n            .then(hits => {\r\n                this.setState(prevState => ({\r\n                    images: [...prevState.images, ...hits],\r\n                    currentPage: prevState.currentPage + 1,\r\n                }));\r\n\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            })\r\n            .catch(error => this.setState({ error }))\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    };\r\n\r\n    openModal = largeImageURL => {\r\n        this.setState({\r\n            showModal: true,\r\n            modalImage: largeImageURL,\r\n        });\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.setState({\r\n            showModal: false,\r\n            modalImage: '',\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { showModal, error, images, loading, modalImage } = this.state;\r\n\r\n        return (\r\n            <div className={s.App}>\r\n                <ToastContainer />\r\n                <Searchbar onSubmit={this.onChangeQuery} />\r\n                {error ? (\r\n                    toast.error(`Something went wrong error: ${error}`)\r\n                ) : (\r\n                    <ImageGallery images={images} onImgClick={this.openModal} />\r\n                )}\r\n                {loading && <CustomLoader />}\r\n                {images.length > 0 && (\r\n                    <Button\r\n                        text={'Load more...'}\r\n                        onLoadClick={this.fetchImgAPI}\r\n                    />\r\n                )}\r\n                {showModal && (\r\n                    <Modal closeModal={this.closeModal}>\r\n                        <img src={modalImage} alt=\"img\" />\r\n                    </Modal>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tHdqN\",\"SearchForm\":\"Searchbar_SearchForm__1Z9L0\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2vO0I\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__A3XcV\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3iQpr\"};"],"sourceRoot":""}