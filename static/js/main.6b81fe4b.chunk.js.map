{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGalery.module.css","Components/Loader/Loader.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/Modal/Modal.js","servises/fetchImgAPI.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","tags","onModal","largeImageURL","ImageGalleryItem_image","src","alt","onClick","defaultProps","images","ImageGallery","onImgClick","map","id","webformatURL","CustomLoader","Loader","color","height","width","timeout","Button","text","onLoadClick","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","closeModal","handleCloseModal","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","res","data","hits","App","showModal","loading","error","modalImage","onChangeQuery","trim","fetchImgAPI","options","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","openModal","prevProps","toast","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b81fe4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3zKDX\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3cx9j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Mzbt\",\"Modal\":\"Modal_Modal__36zVh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalery_ImageGallery__3nE0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__5PKIs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31lWI\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n    state = { query: '' };\n\n    handleChange = e => {\n        this.setState({ query: e.currentTarget.value });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const { query } = this.state;\n\n        this.props.onSubmit(query);\n        this.setState({ query: '' });\n    };\n\n    render() {\n        const { query } = this.state;\n\n        return (\n            <header className={s.Searchbar}>\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className={s.SearchForm_button}>\n                        <span className={s.SearchForm_button_label}>\n                            Search\n                        </span>\n                    </button>\n\n                    <input\n                        className={s.SearchForm_input}\n                        value={query}\n                        onChange={this.handleChange}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, tags, onModal, largeImageURL }) => {\n    return (\n        <li className={s.ImageGalleryItem}>\n            <img\n                className={s.ImageGalleryItem_image}\n                src={image}\n                alt={tags}\n                onClick={() => onModal(largeImageURL)}\n            />\n        </li>\n    );\n};\n\nImageGalleryItem.defaultProps = {\n    images: 'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png',\n    tags: '',\n};\n\nImageGalleryItem.propTypes = {\n    image: PropTypes.string,\n    tags: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, onImgClick }) => {\n    return (\n        <ul className={s.ImageGallery}>\n            {images.map(({ id, largeImageURL, webformatURL, tags }) => (\n                <ImageGalleryItem\n                    key={id}\n                    image={webformatURL}\n                    tags={tags}\n                    largeImageURL={largeImageURL}\n                    onModal={onImgClick}\n                />\n            ))}\n        </ul>\n    );\n};\n\nImageGallery.propTypes = {\n    images: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst CustomLoader = () => (\n    <div className={s.Loader}>\n        <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            timeout={3000}\n        />\n    </div>\n);\n\nexport default CustomLoader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ text, onLoadClick }) => {\n    return (\n        <button className={s.Button} type=\"button\" onClick={onLoadClick}>\n            {text}\n        </button>\n    );\n};\n\nButton.propTypes = {\n    text: PropTypes.string.isRequired,\n    onLoadClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n    static propTypes = {\n        closeModal: PropTypes.func.isRequired,\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = event => {\n        if (event.code === 'Escape') {\n            this.props.closeModal();\n        }\n    };\n\n    handleCloseModal = event => {\n        const { currentTarget, target } = event;\n        if (currentTarget === target) {\n            this.props.closeModal();\n        }\n    };\n\n    render() {\n        const { children } = this.props;\n        return createPortal(\n            <div className={s.Overlay} onClick={this.handleCloseModal}>\n                <div className={s.Modal}>{children}</div>\n            </div>,\n            modalRoot,\n        );\n    }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21973303-2099b25a108053c1f3c237a34';\n\nconst fetchImgAPI = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\n    return axios\n        .get(\n            `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\n        )\n        .then(res => res.data.hits);\n};\n\nexport default { fetchImgAPI };\n","import React, { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './App.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport CustomLoader from './Components/Loader/Loader';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal';\nimport fetchImgAPI from './servises/fetchImgAPI';\n\nclass App extends Component {\n    state = {\n        images: [],\n        currentPage: 1,\n        searchQuery: '',\n        showModal: false,\n        loading: false,\n        error: null,\n        modalImage: '',\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.searchQuery !== this.state.searchQuery) {\n            this.fetchImgAPI();\n        }\n    }\n\n    onChangeQuery = query => {\n        this.setState({\n            searchQuery: query.trim(),\n            currentPage: 1,\n            images: [],\n            error: null,\n        });\n    };\n\n    fetchImgAPI = () => {\n        const { currentPage, searchQuery } = this.state;\n        const options = { searchQuery, currentPage };\n\n        if (!searchQuery) {\n            return;\n        }\n\n        this.setState({ loading: true });\n\n        fetchImgAPI\n            .fetchImgAPI(options)\n            .then(hits => {\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...hits],\n                    currentPage: prevState.currentPage + 1,\n                }));\n\n                window.scrollTo({\n                    top: document.documentElement.scrollHeight,\n                    behavior: 'smooth',\n                });\n            })\n            .catch(error => this.setState({ error }))\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    };\n\n    openModal = largeImageURL => {\n        this.setState({\n            showModal: true,\n            modalImage: largeImageURL,\n        });\n    };\n\n    closeModal = () => {\n        this.setState({\n            showModal: false,\n            modalImage: '',\n        });\n    };\n\n    render() {\n        const { showModal, error, images, loading, modalImage } = this.state;\n\n        return (\n            <div className={s.App}>\n                <ToastContainer />\n                <Searchbar onSubmit={this.onChangeQuery} />\n                {error ? (\n                    toast.error(`Something went wrong error: ${error}`)\n                ) : (\n                    <ImageGallery images={images} onImgClick={this.openModal} />\n                )}\n                {loading && <CustomLoader />}\n                {images.length > 0 && (\n                    <Button\n                        text={'Load more...'}\n                        onLoadClick={this.fetchImgAPI}\n                    />\n                )}\n                {showModal && (\n                    <Modal closeModal={this.closeModal}>\n                        <img src={modalImage} alt=\"img\" />\n                    </Modal>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__tHdqN\",\"SearchForm\":\"Searchbar_SearchForm__1Z9L0\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2vO0I\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__A3XcV\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3iQpr\"};"],"sourceRoot":""}